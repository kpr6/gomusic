(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{38:function(e,t,a){e.exports=a(60)},60:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(17),l=a.n(s),o=a(5),c=a(6),i=a(8),m=a(7),u=a(3),d=a(9),h=a(16),b=a(15),p=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.promo?"text-danger":"text-dark";console.log(t);var a=this.props.price;return r.a.createElement("div",{className:"col-md-6 col-lg-4 d-flex align-items-stretch"},r.a.createElement("div",{className:"card mb-3"},r.a.createElement("img",{className:"card-img-top",src:this.props.img,alt:this.props.imgalt}),r.a.createElement("div",{className:"card-body"},r.a.createElement("h4",{className:"card-title"},this.props.productname),"Price: ",r.a.createElement("strong",{className:t},a),r.a.createElement("p",{className:"card-text"},this.props.desc),r.a.createElement("a",{className:"btn btn-success text-white",onClick:function(){e.props.showBuyModal(e.props.ID,a)}},"Buy"))))}}]),t}(r.a.Component),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={cards:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch(this.props.location).then(function(e){return e.json()}).then(function(t){e.setState({cards:t})})}},{key:"render",value:function(){var e=this,t=this.state.cards.map(function(t){return r.a.createElement(p,Object.assign({key:t.id},t,{promo:e.props.promo,showBuyModal:e.props.showBuyModal}))});return r.a.createElement("div",null,r.a.createElement("div",{className:"mt-5 row"},t))}}]),t}(r.a.Component),E=function(e){function t(){return Object(o.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(c.a)(t,[{key:"buildLoggedInMenu",value:function(){return r.a.createElement("div",{className:"navbar-brand order-1 text-white my-auto"},r.a.createElement("div",{className:"btn-group"},r.a.createElement("button",{type:"button",className:"btn btn-success dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Welcome ",this.props.user.name),r.a.createElement("div",{className:"dropdown-menu"},r.a.createElement("a",{className:"btn dropdown-item",role:"button"},"Sign Out"))))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-success fixed-top"},r.a.createElement("div",{className:"container"},this.props.user.loggedin?this.buildLoggedInMenu():r.a.createElement("button",{type:"button",className:"navbar-brand order-1 btn btn-success",onClick:function(){e.props.showModalWindow()}},"Sign in"),r.a.createElement("div",{className:"navbar-collapse",id:"navbarNavAltMarkup"},r.a.createElement("div",{className:"navbar-nav"},r.a.createElement(h.b,{className:"nav-item nav-link",to:"/"},"Home"),r.a.createElement(h.b,{className:"nav-item nav-link",to:"/promos"},"Promotions"),r.a.createElement(h.b,{className:"nav-item nav-link",to:"/about"},"About"),this.props.user.loggedin?r.a.createElement(h.b,{className:"nav-item nav-link",to:"/myorders"},"My Orders"):null)))))}}]),t}(r.a.Component),v=a(18),f=a(64),w=a(62),N=a(63),y=a(27),O=a.n(y),j=a(36),k=a(19),C="INITIAL",S=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={status:C},a.handleInputChange=a.handleInputChange.bind(Object(u.a)(a)),a.renderCreditCardInformation=a.renderCreditCardInformation.bind(Object(u.a)(a)),a.renderFailure=a.renderFailure.bind(Object(u.a)(a)),a.renderSuccess=a.renderSuccess.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleSubmit",value:function(){var e=Object(j.a)(O.a.mark(function e(t){var a,n,r;return O.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a="",this.state.useExisting){e.next=12;break}return e.next=5,this.props.stripe.createToken({name:this.state.name});case 5:if(n=e.sent,null!=(r=n.token)){e.next=11;break}return console.log("invalid token"),this.setState({status:"FAILED"}),e.abrupt("return");case 11:a=r.id;case 12:return e.next=14,fetch("/users/charge",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({token:a,customer_id:this.props.user,product_id:this.props.productid,sell_price:this.props.price,rememberCard:void 0!==this.state.remember,useExisting:this.state.useExisting})});case 14:e.sent.ok?(console.log("Purchase Complete!"),this.setState({status:"COMPLETE"})):this.setState({status:"FAILED"});case 16:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"handleInputChange",value:function(e){this.setState({value:e.target.value})}},{key:"renderCreditCardInformation",value:function(){var e=r.a.createElement("div",null,r.a.createElement("div",{className:"form-row text-center"},r.a.createElement("button",{type:"button",className:"btn btn-outline-success text-center mx-auto"},"Use saved card?")),r.a.createElement("hr",null)),t=r.a.createElement("div",{className:"form-row form-check text-center"},r.a.createElement("input",{className:"form-check-input",type:"checkbox",value:"",id:"remembercardcheck"}),r.a.createElement("label",{className:"form-check-label",htmlFor:"remembercardcheck"},"Remember Card?"));return r.a.createElement("div",null,e,r.a.createElement("h5",{className:"mb-4"},"Payment Info"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-lg-12 form-group"},r.a.createElement("label",{htmlFor:"cc-name"},"Name On Card:"),r.a.createElement("input",{id:"cc-name",name:"cc-name",className:"form-control",placeholder:"Name on Card",onChange:this.handleInputChange,type:"text"}))),r.a.createElement("div",{className:"form-row"},r.a.createElement("div",{className:"col-lg-12 form-group"},r.a.createElement("label",{htmlFor:"card"},"Card Information:"),r.a.createElement(k.CardElement,{id:"card",className:"form-control",style:{base:{fontSize:"20px",color:"#495057",fontFamily:'apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,sans-serif'}}}))),t,r.a.createElement("hr",{className:"mb-4"}),r.a.createElement("button",{type:"submit",className:"btn btn-success btn-large"},this.props.operation)))}},{key:"renderSuccess",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("h5",{className:"mb-4 text-success"},"Request Successfull...."),r.a.createElement("button",{type:"submit",className:"btn btn-success btn-large",onClick:function(){e.props.toggle()}},"Ok"))}},{key:"renderFailure",value:function(){return r.a.createElement("div",null,r.a.createElement("h5",{className:"mb-4 text-danger"}," Credit card information invalid, try again or exit"),this.renderCreditCardInformation())}},{key:"render",value:function(){var e=null;switch(this.state.status){case"COMPLETE":e=this.renderSuccess();break;case"FAILED":e=this.renderFailure();break;default:e=this.renderCreditCardInformation()}return r.a.createElement("div",null,e)}}]),t}(r.a.Component);function M(e){if(!e.show)return r.a.createElement("div",null);var t=Object(k.injectStripe)(S);return r.a.createElement("div",null,r.a.createElement(k.StripeProvider,{apiKey:"pk_test_LwL4RUtinpP3PXzYirX2jNfR"},r.a.createElement(k.Elements,null,r.a.createElement(t,{operation:e.operation}))))}function x(e){return r.a.createElement(f.a,{id:"buy",tabIndex:"-1",role:"dialog",isOpen:e.showModal,toggle:e.toggle},r.a.createElement("div",{role:"document"},r.a.createElement(w.a,{toggle:e.toggle,className:"bg-success text-white"},"Buy Item"),r.a.createElement(N.a,null,r.a.createElement(M,{show:!0,operation:"Charge",toggle:e.toggle}))))}var I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.state={errormessage:""},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState(Object(v.a)({},t,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(JSON.stringify(this.state))}},{key:"render",value:function(){var e=this,t=null;return 0!==this.state.errormessage.length&&(t=r.a.createElement("h5",{className:"mb-4 text-danger"},this.state.errormessage)),r.a.createElement("div",null,t,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h5",{className:"mb-4"},"Basic Info"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{name:"email",type:"email",className:"form-control",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pass"},"Password:"),r.a.createElement("input",{name:"password",type:"password",className:"form-control",id:"pass",onChange:this.handleChange})),r.a.createElement("div",{className:"form-row text-center"},r.a.createElement("div",{className:"col-12 mt-2"},r.a.createElement("button",{type:"submit",className:"btn btn-success btn-large"},"Sign In")),r.a.createElement("div",{className:"col-12 mt-2"},r.a.createElement("button",{type:"submit",className:"btn btn-link text-info",onClick:function(){return e.props.handleNewUser()}}," New User? Register")))))}}]),t}(r.a.Component),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a.state={errormessage:""},a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){e.preventDefault();var t=e.target.name,a=e.target.value;this.setState(Object(v.a)({},t,a))}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(this.state)}},{key:"render",value:function(){var e=null;return 0!==this.state.errormessage.length&&(e=r.a.createElement("h5",{className:"mb-4 text-danger"},this.state.errormessage)),r.a.createElement("div",null,e,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("h5",{className:"mb-4"},"Registeration"),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"username"},"User Name:"),r.a.createElement("input",{id:"username",name:"username",className:"form-control",placeholder:"John Doe",type:"text",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"email"},"Email:"),r.a.createElement("input",{type:"email",name:"email",className:"form-control",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pass"},"Password:"),r.a.createElement("input",{type:"password",name:"pass1",className:"form-control",id:"pass1",onChange:this.handleChange})),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"pass"},"Confirm password:"),r.a.createElement("input",{type:"password",name:"pass2",className:"form-control",id:"pass2",onChange:this.handleChange})),r.a.createElement("div",{className:"form-row text-center"},r.a.createElement("div",{className:"col-12 mt-2"},r.a.createElement("button",{type:"submit",className:"btn btn-success btn-large"},"Register")))))}}]),t}(r.a.Component),W=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={showRegistrationForm:!1},a.handleNewUser=a.handleNewUser.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"handleNewUser",value:function(){this.setState({showRegistrationForm:!0})}},{key:"render",value:function(){var e=r.a.createElement(I,{handleNewUser:this.handleNewUser});return!0===this.state.showRegistrationForm&&(e=r.a.createElement(B,null)),r.a.createElement(f.a,{id:"register",tabIndex:"-1",role:"dialog",isOpen:this.props.showModal,toggle:this.props.toggle},r.a.createElement("div",{role:"document"},r.a.createElement(w.a,{toggle:this.props.toggle,className:"bg-success text-white"},"Sign in"),r.a.createElement(N.a,null,e)))}}]),t}(r.a.Component);function F(e){return r.a.createElement("div",{className:"row mt-5"},r.a.createElement("div",{className:"col-12 order-lg-1"},r.a.createElement("h3",{className:"mb-4"},"About the Go Music Store"),r.a.createElement("p",null,"Go music is a modern online musical instruments store"),r.a.createElement("p",null,"Explore how you can combine the power of React and Go, to build a fast and beautiful looking online store."),r.a.createElement("p",null,"We will cover how to build this website step by step.")))}function P(e){return r.a.createElement("div",{className:"col-12"},r.a.createElement("div",{className:"card text-center"},r.a.createElement("div",{className:"card-header"},r.a.createElement("h5",null,e.productname)),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"mx-auto col-6"},r.a.createElement("img",{src:e.img,alt:e.imgalt,className:"img-thumbnail float-left"})),r.a.createElement("div",{className:"col-6"},r.a.createElement("p",{className:"card-text"},e.desc),r.a.createElement("div",{className:"mt-4"},"Price: ",r.a.createElement("strong",null,e.price))))),r.a.createElement("div",{className:"card-footer text-muted"},"Purchased ",e.days," days ago")),r.a.createElement("div",{className:"mt-3"}))}var R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={orders:[]},a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"row mt-5"},this.state.orders.map(function(e){return r.a.createElement(P,Object.assign({key:e.id},e))}))}}]),t}(r.a.Component),U=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(i.a)(this,Object(m.a)(t).call(this,e))).state={user:{loggedin:!1,name:""}},a.showSignInModalWindow=a.showSignInModalWindow.bind(Object(u.a)(a)),a.toggleSignInModalWindow=a.toggleSignInModalWindow.bind(Object(u.a)(a)),a.showBuyModalWindow=a.showBuyModalWindow.bind(Object(u.a)(a)),a.toggleBuyModalWindow=a.toggleBuyModalWindow.bind(Object(u.a)(a)),a}return Object(d.a)(t,e),Object(c.a)(t,[{key:"showSignInModalWindow",value:function(){var e=this.state,t=Object.assign({},e,{showSignInModal:!0});this.setState(t)}},{key:"showBuyModalWindow",value:function(e,t){var a=this.state,n=Object.assign({},a,{showBuyModal:!0,productid:e,price:t});this.setState(n)}},{key:"toggleSignInModalWindow",value:function(){var e=this.state,t=Object.assign({},e,{showSignInModal:!e.showSignInModal});this.setState(t)}},{key:"toggleBuyModalWindow",value:function(){var e=this.state,t=Object.assign({},e,{showBuyModal:!e.showBuyModal});this.setState(t)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(h.a,null,r.a.createElement("div",null,r.a.createElement(E,{user:this.state.user,showModalWindow:this.showSignInModalWindow}),r.a.createElement("div",{className:"container pt-4 mt-4"},r.a.createElement(b.a,{exact:!0,path:"/",render:function(){return r.a.createElement(g,{location:"cards.json",showBuyModal:e.showBuyModalWindow})}}),r.a.createElement(b.a,{path:"/promos",render:function(){return r.a.createElement(g,{location:"promos.json",promo:!0,showBuyModal:e.showBuyModalWindow})}}),this.state.user.loggedin?r.a.createElement(b.a,{path:"/myorders",render:function(){return r.a.createElement(R,{location:"user.json"})}}):null,r.a.createElement(b.a,{path:"/about",component:F})),r.a.createElement(W,{showModal:this.state.showSignInModal,toggle:this.toggleSignInModalWindow}),r.a.createElement(x,{showModal:this.state.showBuyModal,toggle:this.toggleBuyModalWindow,productid:this.state.productid,price:this.state.price}))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[38,1,2]]]);
//# sourceMappingURL=main.80be76df.chunk.js.map